<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Extract random coefficients and their variances — extract_random_coefs • mixedup</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Extract random coefficients and their variances — extract_random_coefs" />
<meta property="og:description" content="Extract random coefficients and their variances" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mixedup</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/variance_components.html">Variance Components</a>
    </li>
    <li>
      <a href="../articles/random_effects.html">Random Effects</a>
    </li>
    <li>
      <a href="../articles/fixed_effects.html">Fixed Effects</a>
    </li>
    <li>
      <a href="../articles/random_coefficients.html">Random Coefficients</a>
    </li>
    <li>
      <a href="../articles/summarize_model.html">Summarize Model</a>
    </li>
    <li>
      <a href="../articles/misc.html">Miscellaneous</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/m-clark">
    <span class="fa fa-github-alt"></span>
     
  </a>
</li>
<li>
  <a href="https://m-clark.github.io">
    <span class="fa fa-empire"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extract random coefficients and their variances</h1>
    <small class="dont-index">Source: <a href='https://github.com/m-clark/mixedup/blob/master/R/extract_random_coefs.R'><code>R/extract_random_coefs.R</code></a></small>
    <div class="hidden name"><code>extract_random_coefs.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Extract random coefficients and their variances</p>
    </div>

    <pre class="usage"><span class='fu'>extract_random_coefs</span>(
  <span class='no'>model</span>,
  <span class='kw'>re</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>ci_level</span> <span class='kw'>=</span> <span class='fl'>0.95</span>,
  <span class='kw'>digits</span> <span class='kw'>=</span> <span class='fl'>3</span>,
  <span class='kw'>component</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='no'>...</span>
)

<span class='co'># S3 method for merMod</span>
<span class='fu'>extract_random_coefs</span>(<span class='no'>model</span>, <span class='kw'>re</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>ci_level</span> <span class='kw'>=</span> <span class='fl'>0.95</span>, <span class='kw'>digits</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='no'>...</span>)

<span class='co'># S3 method for glmmTMB</span>
<span class='fu'>extract_random_coefs</span>(
  <span class='no'>model</span>,
  <span class='kw'>re</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>ci_level</span> <span class='kw'>=</span> <span class='fl'>0.95</span>,
  <span class='kw'>digits</span> <span class='kw'>=</span> <span class='fl'>3</span>,
  <span class='kw'>component</span> <span class='kw'>=</span> <span class='st'>"cond"</span>,
  <span class='no'>...</span>
)

<span class='co'># S3 method for lme</span>
<span class='fu'>extract_random_coefs</span>(<span class='no'>model</span>, <span class='kw'>re</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>ci_level</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>digits</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='no'>...</span>)

<span class='co'># S3 method for brmsfit</span>
<span class='fu'>extract_random_coefs</span>(<span class='no'>model</span>, <span class='kw'>re</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>ci_level</span> <span class='kw'>=</span> <span class='fl'>0.95</span>, <span class='kw'>digits</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='no'>...</span>)

<span class='co'># S3 method for gam</span>
<span class='fu'>extract_random_coefs</span>(<span class='no'>model</span>, <span class='kw'>re</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>ci_level</span> <span class='kw'>=</span> <span class='fl'>0.95</span>, <span class='kw'>digits</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>model</th>
      <td><p>A merMod, nlme, brms, or glmmTMB object</p></td>
    </tr>
    <tr>
      <th>re</th>
      <td><p>The name of the grouping variable for the random effects.</p></td>
    </tr>
    <tr>
      <th>ci_level</th>
      <td><p>Where possible, confidence level &lt; 1, typically above 0.90. A value of 0 will
not report it. Default is .95. Not applicable to nlme objects.</p></td>
    </tr>
    <tr>
      <th>digits</th>
      <td><p>Rounding. Default is 3.</p></td>
    </tr>
    <tr>
      <th>component</th>
      <td><p>Only applies to <code>glmmTMB</code> objects. Which of the three
components 'cond', 'zi' or 'other' to select for a glmmTMB model. Default
is 'cond'. Minimal testing on other options.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Other arguments specific to the method. Unused at present.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame of the random coefficients and their standard errors.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Returns a data frame with random coefficients, a.k.a. random
intercepts and random slopes, and their standard errors. Note that the
standard errors assume independence of the conditional variance and the
fixed-effects variance, thus the standard errors are the sum of variances
for the respective fixed and random effects. See Bolker's demo
<a href='https://stackoverflow.com/questions/26198958/extracting-coefficients-and-their-standard-error-from-lme'>here</a>
and additional discussion at the
<a href='https://bbolker.github.io/mixedmodels-misc/glmmFAQ.html#confidence-intervals-on-conditional-meansblupsrandom-effects'>GLMM
FAQ</a>. As noted there, this assumption may not be appropriate, and if you
are really interested in an accurate uncertainty estimate you should
probably use brms.</p>
<p><code>nlme</code> only provides the coefficients no estimated variance, so this
function doesn't add to what you get from basic functionality for those
models.  In addition, nlme adds all random effects to the fixed effects,
whereas <code>lme4</code> and others only add the effects requested.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='extract_random_effects.html'>extract_random_effects</a></code>,
<code><a href='extract_fixed_effects.html'>extract_fixed_effects</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>lme4</span>)
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>mixedup</span>)

<span class='no'>lmer_1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/lme4/man/lmer.html'>lmer</a></span>(<span class='no'>Reaction</span> ~ <span class='no'>Days</span> + (<span class='fl'>1</span> <span class='kw'>|</span> <span class='no'>Subject</span>), <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>sleepstudy</span>)
<span class='fu'>extract_random_coefs</span>(<span class='no'>lmer_1</span>, <span class='kw'>re</span> <span class='kw'>=</span> <span class='st'>'Subject'</span>)</div><div class='output co'>#&gt; <span style='color: #555555;'># A tibble: 18 x 7</span><span>
#&gt;    group_var effect    group value    se lower_2.5 upper_97.5
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>      </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 1</span><span> Subject   Intercept 308    292.  13.6      266.       319.
#&gt; </span><span style='color: #555555;'> 2</span><span> Subject   Intercept 309    174.  13.6      147.       200.
#&gt; </span><span style='color: #555555;'> 3</span><span> Subject   Intercept 310    188.  13.6      162.       215.
#&gt; </span><span style='color: #555555;'> 4</span><span> Subject   Intercept 330    256.  13.6      229.       282.
#&gt; </span><span style='color: #555555;'> 5</span><span> Subject   Intercept 331    262.  13.6      235.       288.
#&gt; </span><span style='color: #555555;'> 6</span><span> Subject   Intercept 332    260.  13.6      233.       286.
#&gt; </span><span style='color: #555555;'> 7</span><span> Subject   Intercept 333    268.  13.6      241.       295.
#&gt; </span><span style='color: #555555;'> 8</span><span> Subject   Intercept 334    248.  13.6      222.       275.
#&gt; </span><span style='color: #555555;'> 9</span><span> Subject   Intercept 335    206.  13.6      179.       233.
#&gt; </span><span style='color: #555555;'>10</span><span> Subject   Intercept 337    324.  13.6      297.       350.
#&gt; </span><span style='color: #555555;'>11</span><span> Subject   Intercept 349    230.  13.6      204.       257.
#&gt; </span><span style='color: #555555;'>12</span><span> Subject   Intercept 350    266.  13.6      239.       292.
#&gt; </span><span style='color: #555555;'>13</span><span> Subject   Intercept 351    244.  13.6      217.       270.
#&gt; </span><span style='color: #555555;'>14</span><span> Subject   Intercept 352    288.  13.6      261.       314.
#&gt; </span><span style='color: #555555;'>15</span><span> Subject   Intercept 369    258.  13.6      232.       285.
#&gt; </span><span style='color: #555555;'>16</span><span> Subject   Intercept 370    245.  13.6      218.       272.
#&gt; </span><span style='color: #555555;'>17</span><span> Subject   Intercept 371    248.  13.6      221.       275.
#&gt; </span><span style='color: #555555;'>18</span><span> Subject   Intercept 372    270.  13.6      243.       296.</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>glmmTMB</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: Package version inconsistency detected.</span>
#&gt; <span class='warning'>TMB was built with Matrix version 1.2.17</span>
#&gt; <span class='warning'>Current Matrix version is 1.2.18</span>
#&gt; <span class='warning'>Please re-install 'TMB' from source using install.packages('TMB', type = 'source') or ask CRAN for a binary version of 'TMB' matching CRAN's 'Matrix' package</span></div><div class='input'><span class='no'>tmb_1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/glmmTMB/man/glmmTMB.html'>glmmTMB</a></span>(<span class='no'>Reaction</span> ~ <span class='no'>Days</span> + (<span class='fl'>1</span> <span class='kw'>|</span> <span class='no'>Subject</span>), <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>sleepstudy</span>)
<span class='fu'>extract_random_coefs</span>(<span class='no'>tmb_1</span>, <span class='kw'>re</span> <span class='kw'>=</span> <span class='st'>'Subject'</span>)</div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 18 x 7</span><span>
#&gt;    group_var effect    group value    se lower_2.5 upper_97.5
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>      </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 1</span><span> Subject   Intercept 308    292.  15.7      261.       323.
#&gt; </span><span style='color: #555555;'> 2</span><span> Subject   Intercept 309    174.  15.8      143.       205.
#&gt; </span><span style='color: #555555;'> 3</span><span> Subject   Intercept 310    189.  15.8      158.       219.
#&gt; </span><span style='color: #555555;'> 4</span><span> Subject   Intercept 330    256.  15.7      225.       287.
#&gt; </span><span style='color: #555555;'> 5</span><span> Subject   Intercept 331    262.  15.7      231.       292.
#&gt; </span><span style='color: #555555;'> 6</span><span> Subject   Intercept 332    260.  15.7      229.       290.
#&gt; </span><span style='color: #555555;'> 7</span><span> Subject   Intercept 333    268.  15.7      237.       299.
#&gt; </span><span style='color: #555555;'> 8</span><span> Subject   Intercept 334    248.  15.7      218.       279.
#&gt; </span><span style='color: #555555;'> 9</span><span> Subject   Intercept 335    206.  15.7      175.       237.
#&gt; </span><span style='color: #555555;'>10</span><span> Subject   Intercept 337    323.  15.8      292.       354.
#&gt; </span><span style='color: #555555;'>11</span><span> Subject   Intercept 349    230.  15.7      200.       261.
#&gt; </span><span style='color: #555555;'>12</span><span> Subject   Intercept 350    265.  15.7      235.       296.
#&gt; </span><span style='color: #555555;'>13</span><span> Subject   Intercept 351    244.  15.7      213.       274.
#&gt; </span><span style='color: #555555;'>14</span><span> Subject   Intercept 352    288.  15.7      257.       318.
#&gt; </span><span style='color: #555555;'>15</span><span> Subject   Intercept 369    258.  15.7      228.       289.
#&gt; </span><span style='color: #555555;'>16</span><span> Subject   Intercept 370    245.  15.7      214.       276.
#&gt; </span><span style='color: #555555;'>17</span><span> Subject   Intercept 371    248.  15.7      217.       279.
#&gt; </span><span style='color: #555555;'>18</span><span> Subject   Intercept 372    269.  15.7      239.       300.</div><div class='input'>
</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://m-clark.github.io'><img src="man/figures/mc_logo.png" width=10% style='display:inline'/></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


